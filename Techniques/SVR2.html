<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head><title>SVR2: Using .htaccess to ensure that the only way to access non-conforming content is from conforming content | Techniques for WCAG 2.0
              </title><link rel="canonical" href="http://www.w3.org/TR/WCAG20-TECHS/SVR2.html"/><link rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/2016/W3C-WG-NOTE.css"/><link rel="stylesheet" type="text/css" href="additional.css"/><link rel="stylesheet" type="text/css" href="slicenav.css"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/></head><body class="slices toc-inline"><div id="masthead"><p class="logo"><a href="http://www.w3.org/"><img width="72" height="48" alt="W3C" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C"/></a></p><p class="collectiontitle"><a href="./">Techniques for WCAG 2.0</a></p></div><div id="skipnav"><p class="skipnav"><a href="#maincontent">Skip to Content (Press Enter)</a></p></div><a name="top"> </a><!-- TOP NAVIGATION BAR --><ul id="navigation"><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="SVR1: Implementing automatic redirects on the server side instead of on the&#xA;                    client side" href="SVR1.html"><strong>Previous: </strong>
        Technique SVR1</a></li><li><a title="SVR3: Using HTTP referer to ensure that the only way to access non-conforming content is from conforming content" href="SVR3.html"><strong>Next: </strong>
        Technique SVR3</a></li></ul><div class="navtoc"><p>On this page:</p><ul id="navbar"><li><a href="#SVR2-disclaimer">Important Information about Techniques</a></li><li><a href="#SVR2-applicability">Applicability</a></li><li><a href="#SVR2-description">Description</a></li><li><a href="#SVR2-examples">Examples</a></li><li><a href="#SVR2-resources">Resources</a></li><li><a href="#SVR2-related-techs">Related Techniques</a></li><li><a href="#SVR2-tests">Tests</a></li></ul></div><div class="skiptarget"><a id="maincontent">-</a></div> <h1><a name="SVR2" id="SVR2"> </a>SVR2: Using .htaccess to ensure that the only way to access non-conforming content is from conforming content</h1><div id="SVR2-disclaimer"><h2>Important Information about Techniques</h2><p>See <a href="http://www.w3.org/TR/2016/NOTE-UNDERSTANDING-WCAG20-20160317/understanding-techniques.html">Understanding Techniques for WCAG Success Criteria</a> for important information about the usage of these informative techniques and how they relate to the normative WCAG 2.0 success criteria. The Applicability section explains the scope of the technique, and the presence of techniques for a specific technology does not imply that the technology can be used in all situations to create content that meets WCAG 2.0.</p></div><div class="applicability"><h2 id="SVR2-applicability">Applicability</h2><div class="textbody"><p>Content residing on a Web server that supports .htaccess (typically Apache) where a conforming version of content is provided as an alternative to a non-conforming version.</p></div></div><p class="referenced">This technique relates to:</p><ul><li><a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#cc1">
					Conformance Requirement 1 (Conformance Level)
				</a></li></ul><h2 id="SVR2-description">Description</h2><div class="textbody"><p>The objective of this technique is to ensure that users can always access an accessible version of the content when non-conforming versions are also available. Whenever content is provided in a format that does not conform to WCAG, the site as a whole can still conform if alternate versions of the inaccessible content are provided. Conformance Requirement 4 requires that alternate versions can be derived from the nonconforming content or from its URI. 
</p><p>Since it is not always possible to provide an accessible link from within non-conforming content, this technique describes how authors can use Apache's Module "mod_access" to ensure that non-conforming content can only be accessed from URIs that serve as alternate versions to the non-conforming content or from pages that include links to both the non-conforming version and the alternative version.</p></div><h2 class="small-head" id="SVR2-examples">Examples</h2><h3 class="small-head" id="SVR2-ex1">Example 1</h3><div class="example"><div class="textbody"><p>The following .htaccess file uses Apache's mod_redirect module to redirect requests for "inaccessible.html" to "accessible.html" unless the request comes from "accessible.html".</p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>
# If the request for inaccessible content comes from a file 
# called accessible.html, then set an environment variable that 
# allows the inaccessible version to be displayed.
SetEnvIf Referer .*(accessible.html)$ let_me_in
&lt;FilesMatch ^(inaccessible.html)$&gt;
    Order Deny,Allow
    Deny from all
    Allow from env=let_me_in
&lt;/FilesMatch&gt;

# If the request comes from anyplace but accessible.html, then 
# redirect the error condition to a location where the accessible 
# version resides
ErrorDocument 403 /example_directory/accessible.html
</code></pre></div></div><h3 class="small-head" id="SVR2-ex2">Example 2</h3><div class="example"><div class="textbody"><p>This example assumes a directory structure where documents are available in multiple formats. One of the formats does not meet WCAG at the level claimed and uses the file extension "jna" (Just Not Accessible). All of these files are stored in a folder called "jna" with an .htaccess file which ensures that any direct request for a file with the .jna extension from pages where inaccessible versions are not already available is redirected to an index page that lists all of the available formats.</p></div><div class="code"><p><strong>Example Code:</strong></p><pre><code>
# If the request for inaccessible content comes from a file at 
# http://example.com/documents/index.html, then set an environment 
# variable that allows the inaccessible version to be displayed.
SetEnvIf Referer ^http://example.com/documents/index.html$ let_me_in
&lt;FilesMatch ^(.*\.jna)$&gt;
    Order Deny,Allow
    Deny from all
    Allow from env=let_me_in
&lt;/FilesMatch&gt;

# If the request comes from anyplace but http://example.com/documents/index.html, then 
# redirect the error condition to a location where a link the accessible 
# version resides
ErrorDocument 403 http://example.com/documents/index.html
</code></pre></div></div><h2 id="SVR2-resources">Resources</h2><div class="textbody"><p>Resources are for information purposes only, no endorsement implied.</p><ul><li><p> 
                  <a href="http://httpd.apache.org/docs/2.2/mod/mod_env.html">Apache Module mod_env</a> 
               </p></li><li><p> 
                  <a href="http://httpd.apache.org/docs/2.2/howto/auth.html">Authentication, Authorization and Access Control</a> 
               </p></li><li><p> 
                  <a href="http://httpd.apache.org/docs/2.0/howto/htaccess.html">Apache Tutorial: .htaccess files</a> 
               </p></li></ul></div><h2 id="SVR2-related-techs">Related Techniques</h2><div class="textbody"><ul><li><a href="G136.html">G136: Providing a link at the beginning of a nonconforming Web page that points to a conforming alternate version</a></li><li><a href="G190.html">G190: Providing a link adjacent to or associated with a non-conforming object that links to a conforming alternate version</a></li><li><a href="SVR3.html">SVR3: Using HTTP referer to ensure that the only way to access non-conforming content is from conforming content</a></li><li><a href="SVR4.html">SVR4: Allowing users to provide preferences for the display of conforming alternate versions</a></li><li><a href="C29.html">C29: Using a style switcher to provide a conforming alternate version</a></li></ul></div><h2 id="SVR2-tests">Tests</h2><div class="textbody"><h3 class="small-head" id="SVR2-procedure">Procedure</h3><ol class="enumar"><li><p>Identify pages that do not conform to WCAG at the conformance Level claimed where accessible alternatives are served based on the use of .htaccess files.
    </p></li><li><p>Visit the URI of the non-conforming content.
    </p></li><li><p>Verify that the resulting page is one of the following:</p><ol class="enumla"><li><p>a <a href="http://www.w3.org/TR/2008/REC-WCAG20-20081211/#conforming-alternate-versiondef" class="gl-ref">conforming alternate version</a> for the non-conforming content</p></li><li><p>a page that includes a link to both the conforming alternate version and the non-conforming content</p></li></ol></li></ol><h3 class="small-head" id="SVR2-results">Expected Results</h3><ul><li><p>Check #3.1 or #3.2 is true.</p></li></ul><p>If this is a sufficient technique for a success criterion, failing this test procedure does not necessarily mean that the success criterion has not been satisfied in some other way, only that this technique has not been successfully implemented and can not be used to claim conformance.</p></div><!-- BOTTOM NAVIGATION BAR --><ul id="navigationbottom"><li><strong><a href="#top">Top</a></strong></li><li><strong><a href="Overview.html#contents" title="Table of Contents">Contents</a></strong></li><li><strong><a href="intro.html" title="Introduction to Techniques for WCAG 2.0"><abbr title="Introduction">Intro</abbr></a></strong></li><li><a title="SVR1: Implementing automatic redirects on the server side instead of on the&#xA;                    client side" href="SVR1.html"><strong>Previous: </strong>
        Technique SVR1</a></li><li><a title="SVR3: Using HTTP referer to ensure that the only way to access non-conforming content is from conforming content" href="SVR3.html"><strong>Next: </strong>
        Technique SVR3</a></li></ul><div class="footer"><p class="copyright">This Web page is part of <a href="Overview.html">Techniques and Failures for Web Content Accessibility Guidelines 2.0</a> (see the <a href="http://www.w3.org/TR/WCAG20-TECHS/SVR2.html">latest version of this document</a>). The entire document is also available as a <a href="complete.html">single HTML file</a>. See the <a href="http://www.w3.org/WAI/intro/wcag20">The WCAG 2.0 Documents</a> for an explanation of how this document fits in with other Web Content Accessibility Guidelines (WCAG) 2.0 documents. To send public comments, please follow the <a href="http://www.w3.org/WAI/WCAG20/comments/">Instructions for Commenting on WCAG 2.0 Documents</a>.
 </p><p class="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2016 <a href="http://www.w3.org/"><acronym title="World Wide Web Consortium">W3C</acronym></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><acronym title="Massachusetts Institute of Technology">MIT</acronym></a>, <a href="http://www.ercim.eu/"><acronym title="European Research Consortium for Informatics and Mathematics">ERCIM</acronym></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply.</p></div></body></html>